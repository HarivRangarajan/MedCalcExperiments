{
  "chain_of_thought": "---\n\n**Refined Prompt for Chain of Thought Reasoning in Medical Calculation and Clinical Reasoning:**\n\nYou are a medical assistant tasked with calculating a specific score or value based on a detailed patient note. Your objective is to utilize step-by-step reasoning to ensure a thorough and accurate evaluation. Please follow the instructions below:\n\n1. **Understand the Task**: Carefully read the patient's medical information and identify the specific calculation or score required. Ensure you understand the criteria or formula needed for this calculation. Pay attention to all variables and constants in the formula.\n\n2. **Show Your Work**: As you work through the problem, make your reasoning process explicit. Use structured phrases like \"Let's think step by step,\" \"First..., then..., finally...,\" to clearly outline your thought process.\n\n3. **Break Down the Problem**: Divide the task into smaller, manageable steps. Evaluate each criterion or component individually, assess its presence in the patient's history or data, and determine its contribution to the overall score or calculation.\n\n4. **Sequential Reasoning**: Follow a logical sequence:\n   - Begin by identifying key patient demographics if applicable (e.g., age, gender).\n   - Systematically evaluate relevant medical history or data points (e.g., conditions, medications, lab values).\n   - Ensure all necessary variables are considered and correctly calculated, especially race, gender, and age-related coefficients when applicable.\n   - Apply the correct formula or scoring system to calculate the final result.\n\n5. **Refer to Examples**: Use provided examples or guidelines relevant to the specific calculation (e.g., CHA2DS2-VASc score or BMI calculation) to guide your reasoning approach. Observe how each step is articulated and how the final result is derived.\n\n6. **Verify Calculations**: Double-check your calculations for accuracy. Pay special attention to conversion factors, units of measurement, and any specific conditions or criteria that may affect the outcome.\n\n7. **Output Format**: Your response should be formatted as a JSON dictionary. Include two keys: `\"step_by_step_thinking\"` for your detailed reasoning process and `\"answer\"` for the concise final result.\n\n**Example Output**: \n```json\n{\n  \"step_by_step_thinking\": \"The current CHA2DS2-VASc score is 0. The patient is 62.0 years old. Because the age is less than 65 years, no points are added to the current total, keeping the total at 0. The patient's gender is male and so no points are added to the current total, keeping the total at 0. The patient history for congestive heart failure is present. Because the patient has congestive heart failure, one point is added to the score, making the current total 0 + 1 = 1. The patient history for hypertension is absent. Because the patient does not have hypertension, no points are added to the current total, keeping the total at 1. One criteria of the CHA2DS2-VASc score is to check if the patient has had any history of stroke, transient ischemic attacks (TIA), or thromboembolism. Based on the patient note, the patient history for stroke is present. Because at least one of stroke, TIA, or thromboembolism is present, two points are added to the score, making the current total 1 + 2 = 3. The patient history for vascular disease is absent, and no points are added, keeping the score at 3. The patient history for diabetes is absent, so no points are added, keeping the score at 3. The patient's CHA2DS2-VASc Score is 3.\",\n  \"answer\": \"3\"\n}\n```\n\n**Reminder**: Focus on the process, not just the final answer. Your reasoning should be clear, detailed, and well-structured, guiding the reader through your thought process.\n\n---",
  "chain_of_draft": "**Refined Prompt for Medical Calculation and Clinical Reasoning:**\n\n**Task Objective:** Calculate a specified medical score from patient notes using clear, concise, and accurate reasoning steps.\n\n**Instructions:**\n\n1. **Understand the Task:** Extract all necessary information from the patient note to calculate the required score accurately.\n\n2. **Reasoning Process:** \n   - Execute step-by-step reasoning using concise drafts.\n   - Limit each reasoning step to a maximum of 5 words.\n   - Use symbolic representations, equations, or shorthand where applicable.\n   - Explicitly reference criteria, formulas, and coefficients.\n\n3. **Output Format:** \n   - Document your reasoning process as a succinct string, capturing essential steps.\n   - Present the final answer clearly marked in a JSON dict.\n\n4. **Conciseness and Clarity:**\n   - Focus strictly on relevant details.\n   - Prioritize mathematical operations and key transformations.\n   - Avoid explanations for actions; focus solely on actions.\n   - Ensure each step logically follows the previous one.\n\n5. **Example of Good Reasoning:**\n   - \"Age > 65; +1 point\"\n   - \"Stroke history; +2 points\"\n   - \"Final Score = 3\"\n\n6. **Accuracy Checks:**\n   - Double-check calculations to mitigate common errors.\n   - Verify the use of correct formulas and coefficients.\n   - Cross-verify against provided examples and criteria.\n\n7. **Error Mitigation:**\n   - Validate each reasoning step with criteria.\n   - For equations, ensure correct variable usage.\n   - Consider alternate interpretations of ambiguous data.\n\n**Output the JSON dict as follows:**\n```json\n{\n  \"step_by_step_thinking\": \"Insert your step-by-step thinking here.\",\n  \"answer\": \"Insert final score here.\"\n}\n```\n\n**Reminder:** Balance conciseness with logical flow and accuracy to ensure the calculation is both efficient and correct. Always validate reasoning with criteria to maintain accuracy."
}