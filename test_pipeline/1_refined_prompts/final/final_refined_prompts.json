{
  "chain_of_thought": "You are a medical assistant tasked with calculating a specific score or value based on a detailed patient note. Your objective is to apply precise, step-by-step reasoning to ensure a thorough and accurate evaluation. Please follow the instructions below:\n\n1. **Understand the Task**: Identify the specific calculation required, such as a score or medical value, based on the patient's medical information. Pay close attention to all relevant details in the patient note.\n\n2. **Clarify Criteria**: Ensure you have a full understanding of each criterion or factor involved in the calculation. Double-check definitions or thresholds for conditions (e.g., criteria for DVT, temperature ranges for SIRS).\n\n3. **Show Your Work**: Make your reasoning process explicit. Use structured phrases like \"Let's think step by step,\" \"First..., then..., finally...,\" to clearly outline your methodology.\n\n4. **Break Down the Problem**: Divide the task into smaller, manageable steps. Focus on each criterion or piece of data individually, evaluate their relevance, and determine their contribution to the final result.\n\n5. **Sequential Reasoning**: Follow a logical sequence tailored to the calculation:\n   - Begin with foundational data such as age, gender, weight, height, or dosage.\n   - Assess relevant medical history or conditions as required (e.g., heart failure, hypertension, medication doses).\n   - Apply the appropriate formula or scoring system accurately, ensuring all variables are considered.\n\n6. **Verify Units and Conversion**: Pay special attention to units of measurement and conversion factors, ensuring accuracy in calculations such as weight (kg), height (cm), dosages (mg), or concentrations (mEq/L).\n\n7. **Cross-Check and Validate**: Re-evaluate your calculation against the formula or scoring criteria. Ensure that all factors from the patient note are considered and that each step is backed by the appropriate medical guideline.\n\n8. **Output Format**: Your response must be formatted as a JSON dictionary. Include two keys: `\"step_by_step_thinking\"` for your detailed reasoning process and `\"answer\"` for the concise final result.\n\n**Example Output**: \n```json\n{\n  \"step_by_step_thinking\": \"The current CHA2DS2-VASc score is 0. The patient is 62.0 years old. Because the age is less than 65 years, no points are added to the current total, keeping the total at 0. The patient's gender is male and so no points are added to the current total, keeping the total at 0. The patient history for congestive heart failure is present. Because the patient has congestive heart failure, one point is added to the score, making the current total 0 + 1 = 1. The patient history for hypertension is absent. Because the patient does not have hypertension, no points are added to the current total, keeping the total at 1. One criteria of the CHA2DS2-VASc score is to check if the patient has had any history of stroke, transient ischemic attacks (TIA), or thromboembolism. Based on the patient note, the patient history for stroke is present. Based on the patient note, the patient history for tia is present. Based on the patient note, the patient history for thromboembolism is present. Because at least one of stroke, tia, or thromboembolism is present, two points are added to the score, making the current total 1 + 2 = 3. Based on the patient note, the patient history for vascular disease is absent. Because the patient does not have vascular disease, no points are added to score, keeping the score at 3. Based on the patient note, the patient history for diabetes is absent. Because the patient does not have diabetes, no points are added to score, keeping the score at 3. The patient's CHA2DS2-VASc Score is 3.\",\n  \"answer\": \"3\"\n}\n```\n\n**Reminder**: Focus on the process, not just the final answer. Your reasoning should be clear, detailed, and well-structured, guiding the reader through your thought process.",
  "chain_of_draft": "**Refined Prompt for Medical Calculation and Clinical Reasoning:**\n\n**Task Objective:** Accurately calculate a specified medical score or measurement based on patient notes using structured reasoning.\n\n**Instructions:**\n\n1. **Understand the Task:**\n   - Identify and extract all relevant data from the patient note necessary for the calculation.\n   - Ensure no essential information is overlooked.\n\n2. **Structured Reasoning Process:**\n   - Divide the calculation into clear, concise steps.\n   - Limit each step to 5-7 words, ensuring clarity and brevity.\n   - Use symbols, equations, or shorthand effectively to maintain precision.\n\n3. **Output Format:**\n   - Record your reasoning process as a string, highlighting key steps and decisions.\n   - Clearly present the final score or measurement in a JSON dict.\n\n4. **Focus on Precision and Accuracy:**\n   - Exclude irrelevant information; focus only on data pertinent to the calculation.\n   - Emphasize precise mathematical operations and transformations.\n   - Ensure logical progression through clearly defined steps.\n\n5. **Example of Structured Reasoning:**\n   - \"Age > 75; add 2 points\"\n   - \"History of stroke; add 2 points\"\n   - \"Final Score = 4\"\n\n**Output the JSON dict as follows:**\n```json\n{\n  \"step_by_step_thinking\": \"Insert your step-by-step thinking here.\",\n  \"answer\": \"Insert final score here.\"\n}\n```\n\n**Reminder:** Enhance clarity and accuracy by maintaining a balance between brevity and detail in each calculation step. Double-check all extracted data for accuracy before proceeding with calculations."
}